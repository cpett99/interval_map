<script>

    // mapRanges Class
    class mapRanges {
        #myMap = []
        #defaultValue = 0
        
        // This function pushes new kvalue range and value into the interval map
        insert(kvalues, value) {
            this.#myMap.push({kvalues, value})
        }
        
        // this is just a helper function to get the current interval map
        getMap() {
            return this.#myMap
        }

        // In case you want to change the default value
        setDefault(value) {
            this.#defaultValue = value
        }
        
        /* The lookup or retrieval method takes a single K value 
           and returns the V value that corresponds to the interval 
           that K falls into or a default value (which needs to be 
           defined when the interval_map is instantiated) when no such 
           interval exists.*/
        at(lookup) {
            let range = this.#myMap[i]

            /* Loop through the interval map in reverse and return the value if found.
               No need to complete the loop once range found since the ranges override 
               preceeding ranges */
            for(var i = this.#myMap.length-1; i >= 0; i--){
                let range = this.#myMap[i]
                if(range.kvalues[0] <= lookup && range.kvalues[1] > lookup){
                    console.log(range.value)
                    return range.value
                }
            }
            console.log(this.#defaultValue)
            return this.#defaultValue // default value
        }
    }

    // Instantiate mapRanges class
    const myMap = new mapRanges()

    myMap.insert([1,6], 4)
    myMap.insert([5,10], 8)
    myMap.insert([12,16], 14)

    myMap.at(1)
    myMap.at(5.5)
    myMap.at(11)
    myMap.at(14)
    myMap.setDefault(999)
    myMap.at(16)

</script>

myMap.insert([1,6], 4) <br>
myMap.insert([5,10], 8)<br>
myMap.insert([12,16], 14)<br><br>

myMap.at(2)<br>
myMap.at(5)<br>
myMap.at(11)<br>
myMap.at(14)<br>
myMap.setDefault(999)<br>
myMap.at(16)<br><br>

The above output should be<br>
4<br>
8<br>
0<br>
14<br>
999